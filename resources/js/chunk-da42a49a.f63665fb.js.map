{"version":3,"sources":["webpack:///./src/layout/components/m1-footer.vue?1405","webpack:///src/layout/components/m1-footer.vue","webpack:///./src/layout/components/m1-footer.vue?1e91","webpack:///./src/layout/components/m1-footer.vue","webpack:///./src/layout/components/m1-footer.vue?e242"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","flex","flex-item","on","click","$event","handleSetSongIdx","parseInt","songIdx","class","playStatus","handleSetPlayStatus","_v","_s","nowDuration","duration","ref","mousedown","mouseDown","touchsStart","preventDefault","to","songId","tag","_e","playType","setType","userToken","pagePath","loveMusic","deloveMusic","src","song","timeupdate","audioProcess","canplay","getDuration","ended","playEnd","staticRenderFns","m1_footervue_type_script_lang_js_","name","data","dotWidth","musicSrc","move","status","startX","left","pathName","created","$route","computed","Object","objectSpread","vuex_esm","mounted","_this","$nextTick","mouseBinds","beforeDestroy","mouseUnbinds","methods","document","addEventListener","mouseMove","mouseUp","removeEventListener","e","clientX","$refs","barReal","clientWidth","endX","dist","offsetWidth","Math","min","barTotal","max","moveSilde","stopPropagation","audio","currentTime","currentTim","_this2","load","play","len","JSON","parse","songArr","length","parse_int_default","temp","_len","_temp","_len2","_temp2","type","style","width","concat","_loveMusic","asyncToGenerator","regeneratorRuntime","mark","_callee","params","res","wrap","_context","prev","next","ids","$http","post","sent","alert","$router","push","msg","stop","apply","arguments","_deloveMusic","_callee2","_context2","location","reload","played","_played","_callee3","_context3","single","all","default","console","log","handleSetPlayType","watch","val","_this3","pause","_this4","from","components_m1_footervue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_m1_footer_vue_vue_type_style_index_0_id_66a01557_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_m1_footer_vue_vue_type_style_index_0_id_66a01557_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"kJAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA6B,CAAAF,EAAA,WAAgBE,YAAA,SAAAC,MAAA,CAA4BC,KAAA,iBAAuB,CAAAJ,EAAA,WAAgBE,YAAA,eAAAC,MAAA,CAAkCE,YAAA,MAAiB,CAAAL,EAAA,WAAgBG,MAAA,CAAOC,KAAA,iBAAuB,CAAAJ,EAAA,KAAUE,YAAA,+BAAAI,GAAA,CAA+CC,MAAA,SAAAC,GAAyBZ,EAAAa,iBAAAC,SAAAd,EAAAe,SAAA,OAAkDX,EAAA,KAAUE,YAAA,cAAAU,MAAA,MAAAhB,EAAAiB,WAAA,wCAAAP,GAAA,CAA0GC,MAAA,SAAAC,GAAyB,OAAAZ,EAAAkB,qBAAAlB,EAAAiB,gBAAkDb,EAAA,KAAUE,YAAA,8BAAAI,GAAA,CAA8CC,MAAA,SAAAC,GAAyBZ,EAAAa,iBAAAC,SAAAd,EAAAe,SAAA,WAAkDX,EAAA,WAAoBE,YAAA,kBAAAC,MAAA,CAAqCE,YAAA,MAAiB,CAAAL,EAAA,WAAgBE,YAAA,YAAuB,CAAAN,EAAAmB,GAAAnB,EAAAoB,GAAAN,SAAAd,EAAAqB,YAAA,WAAArB,EAAAoB,GAAAN,SAAAd,EAAAqB,YAAA,WAAArB,EAAAoB,GAAAN,SAAAd,EAAAsB,SAAA,WAAAtB,EAAAoB,GAAAN,SAAAd,EAAAsB,SAAA,QAAAlB,EAAA,WAAkMmB,IAAA,WAAAjB,YAAA,aAAuC,CAAAF,EAAA,WAAgBmB,IAAA,UAAAjB,YAAA,YAAqC,CAAAF,EAAA,KAAUmB,IAAA,SAAAjB,YAAA,UAAAI,GAAA,CAAuCc,UAAAxB,EAAAyB,UAAAC,YAAA,SAAAd,GAAiF,OAAxBA,EAAAe,iBAAwB3B,EAAAyB,UAAAb,aAA+BR,EAAA,WAAsBE,YAAA,iBAAAC,MAAA,CAAoCE,YAAA,MAAiB,CAAAL,EAAA,WAAgBG,MAAA,CAAOC,KAAA,iBAAuB,KAAAR,EAAAqB,YAAAjB,EAAA,eAA4CE,YAAA,kCAAAC,MAAA,CAAqDqB,GAAA,oBAAA5B,EAAA6B,OAAAC,IAAA,OAAiD9B,EAAA+B,KAAA3B,EAAA,KAAmBE,YAAA,cAAAU,MAAA,YAAAhB,EAAAgC,SAAA,6BAAAhC,EAAAgC,SAAA,yCAAAtB,GAAA,CAA4JC,MAAAX,EAAAiC,WAAqBjC,EAAAkC,WAAA,IAAAlC,EAAAqB,aAAA,eAAArB,EAAAmC,SAAA/B,EAAA,KAAoFE,YAAA,+BAAAI,GAAA,CAA+CC,MAAAX,EAAAoC,aAAuBpC,EAAA+B,KAAA/B,EAAAkC,WAAA,IAAAlC,EAAAqB,aAAA,eAAArB,EAAAmC,SAAA/B,EAAA,KAA6FE,YAAA,iCAAAI,GAAA,CAAiDC,MAAAX,EAAAqC,eAAyBrC,EAAA+B,MAAA,KAAA3B,EAAA,WAA+BE,YAAA,eAAAC,MAAA,CAAkCE,YAAA,SAAiBL,EAAA,SAAgBmB,IAAA,QAAAhB,MAAA,CAAmB+B,IAAA,yBAAAtC,EAAAuC,MAA0C7B,GAAA,CAAK8B,WAAAxC,EAAAyC,aAAAC,QAAA1C,EAAA2C,YAAAC,MAAA5C,EAAA6C,cACruEC,EAAA,oFCkCAC,EAAA,CACAC,KAAA,YACAC,KAFA,WAGA,OACAC,SAAA,GACAC,SAAA,GACAC,KAAA,CACAC,QAAA,EACAC,OAAA,EACAC,KAAA,GAEAjC,SAAA,EACAD,YAAA,EACAmC,SAAA,KAGAC,QAhBA,WAiBAxD,KAAAuD,SAAAvD,KAAAyD,OAAAV,MAEAW,SAAAC,OAAAC,EAAA,KAAAD,CAAA,GACAA,OAAAE,EAAA,KAAAF,CAAA,eACA,yEAEAA,OAAAE,EAAA,KAAAF,CAAA,eACA,eAGAG,QA3BA,WA2BA,IAAAC,EAAA/D,KACAA,KAAAgE,UAAA,WACAD,EAAAE,gBAGAC,cAhCA,WAiCAlE,KAAAmE,gBAEAC,QAAAT,OAAAC,EAAA,KAAAD,CAAA,CACAM,WADA,WAGAI,SAAAC,iBAAA,YAAAtE,KAAAuE,WAEAF,SAAAC,iBAAA,UAAAtE,KAAAwE,UAEAL,aAPA,WASAE,SAAAI,oBAAA,YAAAzE,KAAAuE,WAEAF,SAAAI,oBAAA,UAAAzE,KAAAwE,UAGAhD,UAdA,SAcAkD,GACA1E,KAAAmD,KAAAC,QAAA,EACApD,KAAAmD,KAAAE,OAAAqB,EAAAC,QACA3E,KAAAmD,KAAAG,KAAAtD,KAAA4E,MAAAC,QAAAC,aAGAP,UApBA,SAoBAG,GACA,IAAA1E,KAAAmD,KAAAC,OACA,SAGA,IAAA2B,EAAAL,EAAAC,QAEAK,EAAAD,EAAA/E,KAAAmD,KAAAE,OAEA4B,EAAAC,KAAAC,IAAAnF,KAAA4E,MAAAQ,SAAAN,YAAAI,KAAAG,IAAA,EAAArF,KAAAmD,KAAAG,KAAA0B,IACAhF,KAAAsF,UAAAL,IAGAT,QAjCA,SAiCAE,IACA,IAAA1E,KAAAmD,KAAAC,SACAsB,EAAAa,kBACAvF,KAAA4E,MAAAY,MAAAC,YAAAzF,KAAA4E,MAAAC,QAAAC,YAAA9E,KAAA4E,MAAAQ,SAAAN,YAAA9E,KAAAqB,SACArB,KAAA4E,MAAAY,MAAAE,aAAA1F,KAAAqB,WAAA,IAAArB,KAAAgB,YACAhB,KAAAiB,qBAAA,GAEAjB,KAAAmD,KAAAC,QAAA,IAIAV,YA5CA,WA6CA1C,KAAAqB,SAAArB,KAAA4E,MAAAY,MAAAnE,UAGAmB,aAhDA,WAiDAxC,KAAAmD,KAAAC,SACApD,KAAAoB,YAAApB,KAAA4E,MAAAY,MAAAC,YACAzF,KAAAsF,UAAAtF,KAAA4E,MAAAY,MAAAC,YAAAzF,KAAAqB,SAAArB,KAAA4E,MAAAQ,SAAAN,eAIAlC,QAvDA,WAuDA,IAAA+C,EAAA3F,KACA,GAAAA,KAAA+B,SACA,cAAA/B,KAAA+B,SACA/B,KAAA4E,MAAAY,MAAAI,OACA5F,KAAAgE,UAAA,WACA2B,EAAAf,MAAAY,MAAAK,cAEA,WAAA7F,KAAA+B,SAAA,CACA,IAAA+D,EAAAC,KAAAC,MAAAhG,KAAAiG,SAAAC,OACA,GAAAC,IAAAnG,KAAAc,WAAAgF,EAAA,EACA9F,KAAAY,iBAAA,OACA,CACA,IAAAwF,EAAAD,IAAAnG,KAAAc,SAAA,EACAd,KAAAY,iBAAAwF,QAEA,CACA,IAAAC,EAAAN,KAAAC,MAAAhG,KAAAiG,SAAAC,OACA,GAAAC,IAAAnG,KAAAc,WAAAuF,EAAA,EACArG,KAAAiB,qBAAA,OACA,CACA,IAAAqF,EAAAH,IAAAnG,KAAAc,SAAA,EACAd,KAAAY,iBAAA0F,QAGA,CACA,IAAAC,EAAAR,KAAAC,MAAAhG,KAAAiG,SAAAC,OACA,GAAAC,IAAAnG,KAAAc,WAAAyF,EAAA,EACAvG,KAAAiB,qBAAA,OACA,CACA,IAAAuF,EAAAL,IAAAnG,KAAAc,SAAA,EACAd,KAAAY,iBAAA4F,MAKAlB,UA1FA,SA0FAL,EAAAwB,GACAzG,KAAA4E,MAAAC,QAAA6B,MAAAC,MAAA,GAAAC,OAAA3B,EAAA,OAGA9C,UA9FA,eAAA0E,EAAAlD,OAAAmD,EAAA,KAAAnD,CAAAoD,mBAAAC,KAAA,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAJ,mBAAAK,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cA+FAL,EAAA,CACAM,IAAAxH,KAAA4B,QAhGAyF,EAAAE,KAAA,EAmGAvH,KAAAyH,MAAAC,KAAA,kBAAAR,GAnGA,OAmGAC,EAnGAE,EAAAM,MAoGA,IAAAR,EAAA/D,QACAwE,MAAA,UACA5H,KAAA6H,QAAAC,KAAA,eAEAF,MAAAT,EAAAY,KAxGA,wBAAAV,EAAAW,SAAAf,EAAAjH,SAAA,SAAAmC,IAAA,OAAA0E,EAAAoB,MAAAjI,KAAAkI,WAAA,OAAA/F,EAAA,GA4GAC,YA5GA,eAAA+F,EAAAxE,OAAAmD,EAAA,KAAAnD,CAAAoD,mBAAAC,KAAA,SAAAoB,IAAA,IAAAlB,EAAAC,EAAA,OAAAJ,mBAAAK,KAAA,SAAAiB,GAAA,eAAAA,EAAAf,KAAAe,EAAAd,MAAA,cA6GAL,EAAA,CACAtF,OAAA5B,KAAA4B,QA9GAyG,EAAAd,KAAA,EAiHAvH,KAAAyH,MAAAC,KAAA,qBAAAR,GAjHA,OAiHAC,EAjHAkB,EAAAV,MAkHA,IAAAR,EAAA/D,OACAkF,SAAAC,SAEAX,MAAAT,EAAAY,KArHA,wBAAAM,EAAAL,SAAAI,EAAApI,SAAA,SAAAoC,IAAA,OAAA+F,EAAAF,MAAAjI,KAAAkI,WAAA,OAAA9F,EAAA,GAyHAoG,OAzHA,eAAAC,EAAA9E,OAAAmD,EAAA,KAAAnD,CAAAoD,mBAAAC,KAAA,SAAA0B,IAAA,IAAAxB,EAAA,OAAAH,mBAAAK,KAAA,SAAAuB,GAAA,eAAAA,EAAArB,KAAAqB,EAAApB,MAAA,cA0HAL,EAAA,CACAtF,OAAA5B,KAAA4B,QA3HA+G,EAAApB,KAAA,EA8HAvH,KAAAyH,MAAAC,KAAA,qBAAAR,GA9HA,OAAAyB,EAAAhB,KAAA,wBAAAgB,EAAAX,SAAAU,EAAA1I,SAAA,SAAAwI,IAAA,OAAAC,EAAAR,MAAAjI,KAAAkI,WAAA,OAAAM,EAAA,GAiIAxG,QAjIA,WAkIA,IAAAkF,EAAA,CACA0B,OAAA,MACAC,IAAA,UACAC,QAAA,UAEA9I,KAAA+B,UACAgH,QAAAC,IAAA9B,EAAAlH,KAAA+B,WACA/B,KAAAiJ,kBAAA/B,EAAAlH,KAAA+B,aAEAgH,QAAAC,IAAAhJ,KAAA+B,UACA/B,KAAAiJ,kBAAA,aAIAtF,OAAAE,EAAA,KAAAF,CAAA,eACA,gEAGAuF,MAAA,CACAlI,WADA,SACAmI,GAAA,IAAAC,EAAApJ,KACAmJ,EACAnJ,KAAAgE,UAAA,WACAoF,EAAAxE,MAAAY,MAAAK,OACAuD,EAAAZ,WAGAxI,KAAA4E,MAAAY,MAAA6D,SAGAvI,QAXA,SAWAqI,GAAA,IAAAG,EAAAtJ,KACA,qBAAAmJ,IACAnJ,KAAA4E,MAAAY,MAAAI,OACA5F,KAAAgE,UAAA,WACAsF,EAAArI,qBAAA,GACAqI,EAAA1E,MAAAY,MAAAK,OACAyD,EAAAd,aAIA/E,OArBA,SAqBA9B,EAAA4H,GACAvJ,KAAAuD,SAAA5B,EAAAoB,QChPkWyG,EAAA,0BCQlWC,EAAgB9F,OAAA+F,EAAA,KAAA/F,CACd6F,EACA1J,EACA+C,GACF,EACA,KACA,WACA,MAIe8G,EAAA,WAAAF,6CCnBf,IAAAG,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAA0jBE,EAAG","file":"resources/js/chunk-da42a49a.f63665fb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"player-wrapper\"},[_c('section',{staticClass:\"player\",attrs:{\"flex\":\"cross:center\"}},[_c('section',{staticClass:\"player-basic\",attrs:{\"flex-item\":\"2\"}},[_c('section',{attrs:{\"flex\":\"cross:center\"}},[_c('i',{staticClass:\"player-icon player-prev-icon\",on:{\"click\":function($event){_vm.handleSetSongIdx(parseInt(_vm.songIdx) - 1)}}}),_c('i',{staticClass:\"player-icon\",class:[_vm.playStatus === false ? 'player-play-icon' : 'player-pause-icon'],on:{\"click\":function($event){return _vm.handleSetPlayStatus(!_vm.playStatus)}}}),_c('i',{staticClass:\"player-icon player-end-icon\",on:{\"click\":function($event){_vm.handleSetSongIdx(parseInt(_vm.songIdx) + 1)}}})])]),_c('section',{staticClass:\"player-progress\",attrs:{\"flex-item\":\"6\"}},[_c('section',{staticClass:\"bar-time\"},[_vm._v(_vm._s(parseInt(_vm.nowDuration / 60))+\" : \"+_vm._s(parseInt(_vm.nowDuration % 60))+\" / \"+_vm._s(parseInt(_vm.duration / 60))+\" : \"+_vm._s(parseInt(_vm.duration % 60)))]),_c('section',{ref:\"barTotal\",staticClass:\"bar-total\"},[_c('section',{ref:\"barReal\",staticClass:\"bar-real\"},[_c('i',{ref:\"barDot\",staticClass:\"bar-dot\",on:{\"mousedown\":_vm.mouseDown,\"touchsStart\":function($event){$event.preventDefault();return _vm.mouseDown($event)}}})])])]),_c('section',{staticClass:\"player-special\",attrs:{\"flex-item\":\"2\"}},[_c('section',{attrs:{\"flex\":\"cross:center\"}},[(_vm.nowDuration !== 0)?_c('router-link',{staticClass:\"player-icon player-comment-icon\",attrs:{\"to\":'/song/comment?id=' + _vm.songId,\"tag\":\"i\"}}):_vm._e(),_c('i',{staticClass:\"player-icon\",class:[_vm.playType === 'single' ? 'player-single-icon' : _vm.playType === 'all' ? 'player-all-icon' : 'player-default-icon'],on:{\"click\":_vm.setType}}),(_vm.userToken && _vm.nowDuration !== 0 && _vm.pagePath !== '/song/love')?_c('i',{staticClass:\"player-icon player-love-icon\",on:{\"click\":_vm.loveMusic}}):_vm._e(),(_vm.userToken && _vm.nowDuration !== 0 && _vm.pagePath === '/song/love')?_c('i',{staticClass:\"player-icon player-delove-icon\",on:{\"click\":_vm.deloveMusic}}):_vm._e()],1)]),_c('section',{staticClass:\"player-voice\",attrs:{\"flex-item\":\"2\"}})]),_c('audio',{ref:\"audio\",attrs:{\"src\":'http://admin.music.com' + _vm.song},on:{\"timeupdate\":_vm.audioProcess,\"canplay\":_vm.getDuration,\"ended\":_vm.playEnd}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"player-wrapper\">\r\n    <section class=\"player\" flex=\"cross:center\">\r\n      <section flex-item=\"2\" class=\"player-basic\">\r\n        <section flex=\"cross:center\">\r\n          <i class=\"player-icon player-prev-icon\" @click=\"handleSetSongIdx(parseInt(songIdx) - 1)\"></i>\r\n          <i class=\"player-icon\" :class=\"[playStatus === false ? 'player-play-icon' : 'player-pause-icon']\" @click=\"handleSetPlayStatus(!playStatus)\"></i>\r\n          <i class=\"player-icon player-end-icon\" @click=\"handleSetSongIdx(parseInt(songIdx) + 1)\"></i>\r\n        </section>\r\n      </section>\r\n      <section flex-item=\"6\" class=\"player-progress\">\r\n        <section class=\"bar-time\">{{ parseInt(nowDuration / 60) }} : {{ parseInt(nowDuration % 60) }} / {{ parseInt(duration / 60) }} : {{ parseInt(duration % 60) }}</section>\r\n        <section class=\"bar-total\" ref=\"barTotal\">\r\n          <section class=\"bar-real\" ref=\"barReal\">\r\n            <i class=\"bar-dot\" @mousedown=\"mouseDown\" @touchsStart.prevent=\"mouseDown\" ref=\"barDot\"></i>\r\n          </section>\r\n        </section>\r\n      </section>\r\n      <section flex-item=\"2\" class=\"player-special\">\r\n        <section flex=\"cross:center\">\r\n          <!-- <i class=\"player-icon player-loop-icon\"></i> -->\r\n          <router-link class=\"player-icon player-comment-icon\" v-if=\"nowDuration !== 0\" :to=\"'/song/comment?id=' + songId\" tag=\"i\"></router-link>\r\n          <i class=\"player-icon\" @click=\"setType\" :class=\"[playType === 'single' ? 'player-single-icon' : playType === 'all' ? 'player-all-icon' : 'player-default-icon']\"></i>\r\n          <i class=\"player-icon player-love-icon\" v-if=\"userToken && nowDuration !== 0 && pagePath !== '/song/love'\" @click=\"loveMusic\"></i>\r\n          <i class=\"player-icon player-delove-icon\" v-if=\"userToken && nowDuration !== 0 && pagePath === '/song/love'\" @click=\"deloveMusic\"></i>\r\n        </section>\r\n      </section>\r\n      <section flex-item=\"2\" class=\"player-voice\"></section>\r\n    </section>\r\n    <audio :src=\"'http://admin.music.com' + song\" ref=\"audio\" @timeupdate=\"audioProcess\" @canplay=\"getDuration\" @ended=\"playEnd\"></audio>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from 'vuex'\r\nexport default {\r\n  name: 'm1-footer',\r\n  data () {\r\n    return {\r\n      dotWidth: 10,\r\n      musicSrc: '',\r\n      move: {\r\n        status: false,\r\n        startX: 0,\r\n        left: 0\r\n      },\r\n      duration: 0,\r\n      nowDuration: 0,\r\n      pathName: ''\r\n    }\r\n  },\r\n  created () {\r\n    this.pathName = this.$route.name\r\n  },\r\n  computed: {\r\n    ...mapState('player/song', [\r\n      'songIdx', 'song', 'playStatus', 'pagePath', 'songId', 'playType', 'songArr'\r\n    ]),\r\n    ...mapState('player/user', [\r\n      'userToken'\r\n    ])\r\n  },\r\n  mounted () {\r\n    this.$nextTick(() => {\r\n      this.mouseBinds()\r\n    })\r\n  },\r\n  beforeDestroy () {\r\n    this.mouseUnbinds()\r\n  },\r\n  methods: {\r\n    mouseBinds () {\r\n      // 绑定鼠标滑动事件\r\n      document.addEventListener('mousemove', this.mouseMove)\r\n      // 绑定鼠标松开事件\r\n      document.addEventListener('mouseup', this.mouseUp)\r\n    },\r\n    mouseUnbinds () {\r\n      // 解绑鼠标滑动事件\r\n      document.removeEventListener('mousemove', this.mouseMove)\r\n      // 解绑鼠标松开事件\r\n      document.removeEventListener('mouseup', this.mouseUp)\r\n    },\r\n    // 鼠标按下事件\r\n    mouseDown (e) {\r\n      this.move.status = true\r\n      this.move.startX = e.clientX\r\n      this.move.left = this.$refs.barReal.clientWidth\r\n    },\r\n    // 鼠标滑动事件\r\n    mouseMove (e) {\r\n      if (!this.move.status) {\r\n        return false\r\n      }\r\n      // 滑动坐标\r\n      const endX = e.clientX\r\n      // 滑动距离\r\n      const dist = endX - this.move.startX\r\n      // 计算实时进度条宽度 约束起点 - 终点范围\r\n      const offsetWidth = Math.min(this.$refs.barTotal.clientWidth, Math.max(0, this.move.left + dist))\r\n      this.moveSilde(offsetWidth)\r\n    },\r\n    // 鼠标松开事件\r\n    mouseUp (e) {\r\n      if (this.move.status === true) {\r\n        e.stopPropagation()\r\n        this.$refs.audio.currentTime = this.$refs.barReal.clientWidth / this.$refs.barTotal.clientWidth * this.duration\r\n        if (this.$refs.audio.currentTim !== this.duration && this.playStatus === false) {\r\n          this.handleSetPlayStatus(true)\r\n        }\r\n        this.move.status = false\r\n      }\r\n    },\r\n    // 获取总时间\r\n    getDuration () {\r\n      this.duration = this.$refs.audio.duration\r\n    },\r\n    // 播放进度\r\n    audioProcess () {\r\n      if (!this.move.status) {\r\n        this.nowDuration = this.$refs.audio.currentTime\r\n        this.moveSilde(this.$refs.audio.currentTime / this.duration * this.$refs.barTotal.clientWidth)\r\n      }\r\n    },\r\n    // 播放结束\r\n    playEnd () {\r\n      if (this.playType) {\r\n        if (this.playType === 'single') {\r\n          this.$refs.audio.load()\r\n          this.$nextTick(() => {\r\n            this.$refs.audio.play()\r\n          })\r\n        } else if (this.playType === 'all') {\r\n          const len = JSON.parse(this.songArr).length\r\n          if (parseInt(this.songIdx) === len - 1) {\r\n            this.handleSetSongIdx(0)\r\n          } else {\r\n            let temp = parseInt(this.songIdx) + 1\r\n            this.handleSetSongIdx(temp)\r\n          }\r\n        } else {\r\n          const len = JSON.parse(this.songArr).length\r\n          if (parseInt(this.songIdx) === len - 1) {\r\n            this.handleSetPlayStatus(false)\r\n          } else {\r\n            let temp = parseInt(this.songIdx) + 1\r\n            this.handleSetSongIdx(temp)\r\n          }\r\n        }\r\n      } else {\r\n        const len = JSON.parse(this.songArr).length\r\n        if (parseInt(this.songIdx) === len - 1) {\r\n          this.handleSetPlayStatus(false)\r\n        } else {\r\n          let temp = parseInt(this.songIdx) + 1\r\n          this.handleSetSongIdx(temp)\r\n        }\r\n      }\r\n    },\r\n    // 实施进度条变动\r\n    moveSilde (offsetWidth, type) {\r\n      this.$refs.barReal.style.width = `${offsetWidth}px`\r\n    },\r\n    // 收藏音乐\r\n    async loveMusic () {\r\n      const params = {\r\n        ids: this.songId\r\n      }\r\n      // eslint-disable-next-line\r\n      const res = await this.$http.post('/user/song/love', params)\r\n      if (res.status === true) {\r\n        alert('添加收藏成功')\r\n        this.$router.push('/song/love')\r\n      } else {\r\n        alert(res.msg)\r\n      }\r\n    },\r\n    // 删除音乐\r\n    async deloveMusic () {\r\n      const params = {\r\n        songId: this.songId\r\n      }\r\n      // eslint-disable-next-line\r\n      const res = await this.$http.post('/user/song/dellove', params)\r\n      if (res.status === true) {\r\n        location.reload()\r\n      } else {\r\n        alert(res.msg)\r\n      }\r\n    },\r\n    // 播放\r\n    async played () {\r\n      const params = {\r\n        songId: this.songId\r\n      }\r\n      // eslint-disable-next-line\r\n      const res = await this.$http.post('/index/song/played', params)\r\n    },\r\n    // 设置播放模式\r\n    setType () {\r\n      const params = {\r\n        single: 'all',\r\n        all: 'default',\r\n        default: 'single'\r\n      }\r\n      if (this.playType) {\r\n        console.log(params[this.playType])\r\n        this.handleSetPlayType(params[this.playType])\r\n      } else {\r\n        console.log(this.playType)\r\n        this.handleSetPlayType('single')\r\n      }\r\n    },\r\n    // 评论列表\r\n    ...mapActions('player/song', [\r\n      'handleSetPlayStatus', 'handleSetSongIdx', 'handleSetPlayType'\r\n    ])\r\n  },\r\n  watch: {\r\n    playStatus (val) {\r\n      if (val) {\r\n        this.$nextTick(() => {\r\n          this.$refs.audio.play()\r\n          this.played()\r\n        })\r\n      } else {\r\n        this.$refs.audio.pause()\r\n      }\r\n    },\r\n    songIdx (val) {\r\n      if (typeof val !== 'undefined') {\r\n        this.$refs.audio.load()\r\n        this.$nextTick(() => {\r\n          this.handleSetPlayStatus(true)\r\n          this.$refs.audio.play()\r\n          this.played()\r\n        })\r\n      }\r\n    },\r\n    '$route' (to, from) {\r\n      this.pathName = to.name\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .player-wrapper {\r\n    padding: 0 7.638889%;\r\n    width: 100%;\r\n    .player{\r\n      height: 80px;\r\n      .bar-time {\r\n        padding: 0 0 10px;\r\n        color: #bbb;\r\n        text-align: right;\r\n      }\r\n      .bar-total {\r\n        position: relative;\r\n        width: 100%;\r\n        height: 2px;\r\n        background: #999;\r\n        .bar-real {\r\n          position: relative;\r\n          width: 0;\r\n          height: 2px;\r\n          background: #fff;\r\n          cursor: pointer;\r\n        }\r\n        .bar-dot {\r\n          position: absolute;\r\n          top: 50%;\r\n          right: -5px;\r\n          transform: translateY(-50%);\r\n          display: inline-block;\r\n          width: 10px;\r\n          height: 10px;\r\n          background: #fff;\r\n          border-radius: 50%;\r\n        }\r\n      }\r\n    }\r\n    .player-icon {\r\n      display: block;\r\n      background-image: url(../../assets/images/player.png);\r\n      cursor: pointer;\r\n      &.player-prev-icon {\r\n        width: 19px;\r\n        min-width: 19px;\r\n        height: 20px;\r\n        background-position: 0 -30px;\r\n      }\r\n      &.player-play-icon {\r\n        width: 21px;\r\n        min-width: 21px;\r\n        height: 29px;\r\n        margin: 0 50px;\r\n        background-position: 0 0;\r\n      }\r\n      &.player-pause-icon {\r\n        width: 21px;\r\n        min-width: 21px;\r\n        height: 29px;\r\n        margin: 0 50px;\r\n        background-position: -30px 0;\r\n      }\r\n      &.player-end-icon {\r\n        width: 19px;\r\n        min-width: 19px;\r\n        height: 20px;\r\n        background-position: 0 -52px;\r\n      }\r\n      &.player-loop-icon {\r\n        width: 26px;\r\n        height: 25px;\r\n        margin-left: 20px;\r\n        background-position: 0 -205px;\r\n      }\r\n      &.player-comment-icon {\r\n        width: 24px;\r\n        height: 24px;\r\n        margin-left: 20px;\r\n        background-position: 0 -400px;\r\n      }\r\n      &.player-love-icon {\r\n        width: 24px;\r\n        height: 24px;\r\n        margin-left: 20px;\r\n        background-position: 157px -614px;\r\n      }\r\n      &.player-delove-icon {\r\n        width: 24px;\r\n        height: 24px;\r\n        margin-left: 20px;\r\n        background-position: 48px -94px;\r\n      }\r\n      &.player-default-icon {\r\n        width: 24px;\r\n        height: 24px;\r\n        margin-left: 20px;\r\n        background-position: 0px -776px;\r\n      }\r\n      &.player-single-icon {\r\n        width: 26px;\r\n        height: 26px;\r\n        margin-left: 20px;\r\n        background-position: 0px -752px;\r\n      }\r\n      &.player-all-icon {\r\n        width: 26px;\r\n        height: 26px;\r\n        margin-left: 20px;\r\n        background-position: 0px -725px;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./m1-footer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./m1-footer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./m1-footer.vue?vue&type=template&id=66a01557&scoped=true&\"\nimport script from \"./m1-footer.vue?vue&type=script&lang=js&\"\nexport * from \"./m1-footer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./m1-footer.vue?vue&type=style&index=0&id=66a01557&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66a01557\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./m1-footer.vue?vue&type=style&index=0&id=66a01557&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./m1-footer.vue?vue&type=style&index=0&id=66a01557&scoped=true&lang=scss&\""],"sourceRoot":""}